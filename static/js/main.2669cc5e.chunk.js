(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a(36)},26:function(e,t,a){},28:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},31:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);a(18),a(11),a(20),a(21);var n=a(0),s=a.n(n),r=a(14),c=a.n(r),l=(a(26),a(3)),o=a(4),i=a(7),u=a(5),d=a(6),p=a(15),m=a(1),h=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={firstName:"",lastName:"",waiting:!1},a.lookupGuest=a.lookupGuest.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"lookupGuest",value:function(e){var t=this;e.preventDefault();var a=this.props.endpoint,n=this.state,s=n.firstName,r=n.lastName,c="".concat(a,"/find/").concat(s,"/").concat(r);fetch(c).then(function(e){return e.json()}).then(function(e){t.props.setGuests(e),t.setState({waiting:!1})}).catch(function(e){return console.error(e)}),this.setState({waiting:!0})}},{key:"handleChange",value:function(e){e.preventDefault();var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"render",value:function(){return s.a.createElement("div",{className:"guest-lookup"},s.a.createElement("h2",null,"Lookup Your Invitation"),s.a.createElement("p",null,"Enter your first and last name ",s.a.createElement("strong",null,s.a.createElement("em",null,"as it appears on your invitation ")),"to find your RSVP for your and your family or group."),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"firstName"},"First Name: "),s.a.createElement("input",{className:"form-control",type:"text",value:this.state.firstName,id:"firstName",name:"firstName",onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"lastName"},"Last Name: "),s.a.createElement("input",{className:"form-control",type:"text",value:this.state.lastName,id:"lastName",name:"lastName",onChange:this.handleChange})),this.state.waiting?s.a.createElement("button",{disabled:!0,className:"btn btn-primary"},"Please Wait..."):s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.lookupGuest},"Lookup Invitation"))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a.handleClick=a.handleClick.bind(Object(m.a)(Object(m.a)(a))),a.updateGuestAttending=a.updateGuestAttending.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(e){var t,a=e.target,n=a.tagName.toLowerCase(),s=this.props.guest;(t="input"===n?a:a.parentNode.querySelector("input"))&&(this.props.updateSelectedGroupId?this.props.updateSelectedGroupId(s.group_num):this.updateGuestAttending(t))}},{key:"updateGuestAttending",value:function(e){var t=this.props.guest;"guest"===e.name?this.props.updatePlusOneAttending(t.id,e.value):this.props.updateGuestAttending(t.id,e.value)}},{key:"render",value:function(){var e=this.props.guest,t=e.title,a=e.suffix,n=this.props.guest.first_name,r=this.props.guest.last_name,c=this.props.guest.group_num,l=this.props.guest.allow_guest,o="".concat(n,"-").concat(r).concat(a?"-".concat(a):""),i="".concat(t," ").concat(n," ").concat(r," ").concat(a||"");return s.a.createElement("div",{className:"guest-container"},this.props.updateSelectedGroupId?s.a.createElement("span",{className:"guest",onClick:this.handleClick},s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",id:o,name:"guests",value:c}),s.a.createElement("label",{className:"form-check-label",htmlFor:o},i))):s.a.createElement("fieldset",{className:"guest form-group",onClick:this.handleClick},s.a.createElement("legend",null,i),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:o,id:"".concat(o,"-attending"),value:"true"}),s.a.createElement("label",{className:"form-check-label",htmlFor:"".concat(o,"-attending")},"Attending")),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:o,id:"".concat(o,"-not-attending"),value:"false"}),s.a.createElement("label",{className:"form-check-label",htmlFor:"".concat(o,"-not-attending")},"Not Attending")),l?s.a.createElement("div",{className:"plus-one"},s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"guest",id:"".concat(o,"-guest-attending"),value:"true"}),s.a.createElement("label",{className:"form-check-label",htmlFor:"".concat(o,"-guest-attending")},"with a Guest")),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"guest",id:"".concat(o,"-guest-not-attending"),value:"false"}),s.a.createElement("label",{className:"form-check-label",htmlFor:"".concat(o,"-guest-not-attending")},"without a Guest"))):null))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.guest,t=e.title,a=e.suffix,n=this.props.guest.first_name,r=this.props.guest.last_name,c=this.props.guest.allow_guest,l=this.props.guest.attending,o=this.props.guest.guest_attending,i="".concat(t," ").concat(n," ").concat(r," ").concat(a||"");return s.a.createElement("div",{className:"guest-container"},s.a.createElement("span",{className:"guest"},s.a.createElement("h3",null,i),s.a.createElement("h4",null,"Attending: ",l?"Yes":"No"),c?s.a.createElement("p",null,"Guest Attending: ",o?"Yes":"No"):null))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.props.updateSelectedGroupId||this.props.updateGuestAttending?s.a.createElement(g,{guest:this.props.guest,updateSelectedGroupId:this.props.updateSelectedGroupId?this.props.updateSelectedGroupId:null,updateGuestAttending:this.props.updateGuestAttending?this.props.updateGuestAttending:null,updatePlusOneAttending:this.props.updatePlusOneAttending?this.props.updatePlusOneAttending:null}):s.a.createElement(b,{guest:this.props.guest})}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={rsvps:{}},a.updateGuestAttending=a.updateGuestAttending.bind(Object(m.a)(Object(m.a)(a))),a.updatePlusOneAttending=a.updatePlusOneAttending.bind(Object(m.a)(Object(m.a)(a))),a.updateRsvp=a.updateRsvp.bind(Object(m.a)(Object(m.a)(a))),a.back=a.back.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.endpoint,a=this.props.groupId,n="".concat(t,"/group/").concat(a);fetch(n).then(function(e){return e.json()}).then(function(t){return e.setState({group:t})}).catch(function(e){return console.error(e)})}},{key:"updateGuestAttending",value:function(e,t){var a=this.state;a.rsvps[e]||(a.rsvps[e]={}),a.rsvps[e].attending=t,this.setState(a)}},{key:"updatePlusOneAttending",value:function(e,t){var a=this.state;a.rsvps[e]||(a.rsvps[e]={}),a.rsvps[e].guestAttending=t,this.setState(a)}},{key:"updateRsvp",value:function(){var e,t=this,a=this.state.rsvps,n=this.props.endpoint,s=[];for(var r in a)"guestAttending"in(e=a[r])?s.push("".concat(n,"/rsvp/").concat(r,"/attending/").concat(e.attending,"\n                    /guest/").concat(e.guestAttending)):s.push("".concat(n,"/rsvp/").concat(r,"/attending/").concat(e.attending));Promise.all(s.map(function(e){return fetch(e,{method:"PUT"})})).then(function(){return fetch("".concat(t.props.endpoint,"/group/").concat(t.props.groupId)).then(function(e){return e.json()}).then(function(e){t.props.setUpdatedGroup(e),t.props.setRsvpSent(!0)}).catch(function(e){return console.error(e)})})}},{key:"back",value:function(e){e.preventDefault(),this.props.setGroupId(null)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"guest-respond"},s.a.createElement("h2",null,"RSVP for All Guests Below"),s.a.createElement("p",null,"Please let us know who from your group will and won't be attending."),s.a.createElement("div",{className:"group-list"},this.state.group?this.state.group.map(function(t,a){return s.a.createElement(f,{key:a,guest:t,updateGuestAttending:e.updateGuestAttending,updatePlusOneAttending:e.updatePlusOneAttending})}):null),s.a.createElement("button",{className:"btn btn-primary",onClick:this.updateRsvp},"Send"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.back},"Back"))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a.updateSelectedGroupId=a.updateSelectedGroupId.bind(Object(m.a)(Object(m.a)(a))),a.selectGuest=a.selectGuest.bind(Object(m.a)(Object(m.a)(a))),a.back=a.back.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"selectGuest",value:function(){this.props.setGroupId(this.state.groupId)}},{key:"updateSelectedGroupId",value:function(e){this.setState({groupId:e})}},{key:"back",value:function(e){e.preventDefault(),this.props.setGuests(null)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"guest-select"},s.a.createElement("h2",null,"Select Your Name"),s.a.createElement("p",null,"Find and select your name from the list of guests below."),this.props.guests.map(function(t,a){return s.a.createElement(f,{key:a,guest:t,updateSelectedGroupId:e.updateSelectedGroupId})}),s.a.createElement("button",{className:"btn btn-primary",onClick:this.selectGuest},"Select Guest"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.back},"Back"))}}]),t}(n.Component),E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a.back=a.back.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"back",value:function(e){e.preventDefault(),this.props.setRsvpSent(!1)}},{key:"render",value:function(){return s.a.createElement("div",{className:"confirmation"},s.a.createElement("h2",null,"Your RSVP has been sent!"),this.props.group.map(function(e,t){return s.a.createElement(f,{key:t,guest:e})}),s.a.createElement("p",null,"To all of our guests who can't make it to celebrate with us, know that we completely understand.  We understand that everyone's lives are busy, and we look forward to celebrating with you whenever we can!"),s.a.createElement("p",null,"To all of our guests who are able to make it, we can't wait to celebrate with you all!  Be sure to check out our ",s.a.createElement("a",{href:"http://jkbaclig.com"},"Official Wedding Website")," for ",s.a.createElement("a",{href:"http://jkbaclig.com/details.html"},"ceremony and reception details"),", ",s.a.createElement("a",{href:"http://jkbaclig.com/guide.htmlroom"},"our city guide (including hotel info)"),", and more.  (Jon worked really hard on making it, so go check it out!)"),s.a.createElement("p",null,'If you need to make any changes to your RSVP, you can click the "Back" button now or come back here later to resubmit your RSVP.  We kindy ask that all RSVP\'s be finalized by',s.a.createElement("strong",null,s.a.createElement("em",null,"January 1, 2019."))),s.a.createElement("p",null,'If you\'d like to submit another RSVP, click "Start Over" below.'),s.a.createElement("button",{className:"btn btn-primary",onClick:this.props.reset},"Start Over"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.back},"Back"))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={endpoint:"https://jkbaclig-rsvp.herokuapp.com"},a.setGuests=a.setGuests.bind(Object(m.a)(Object(m.a)(a))),a.setGroupId=a.setGroupId.bind(Object(m.a)(Object(m.a)(a))),a.setRsvpSent=a.setRsvpSent.bind(Object(m.a)(Object(m.a)(a))),a.reset=a.reset.bind(Object(m.a)(Object(m.a)(a))),a.setUpdatedGroup=a.setUpdatedGroup.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"setGuests",value:function(e){this.setState({guests:e})}},{key:"setGroupId",value:function(e){this.setState({groupId:e})}},{key:"setRsvpSent",value:function(e){this.setState({rsvpSent:e})}},{key:"setUpdatedGroup",value:function(e){this.setState({updatedGroup:e})}},{key:"reset",value:function(e){e.preventDefault(),this.setState({guests:null,groupId:null,rsvpSent:null,updatedGroup:null})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-fluid p-0"},s.a.createElement("header",{className:"App-header p-5 text-center"},s.a.createElement("h1",null,"RSVP for Kelly & Jon's Wedding",s.a.createElement("br",null),s.a.createElement("small",null,"February 1st, 2019"),s.a.createElement("br",null),s.a.createElement("small",null,"San Diego, CA"))),s.a.createElement("div",{className:"row justify-content-center px-3 mx-0"},s.a.createElement("div",{className:"col-lg-8 col-md-10 pt-5"},this.state.guests?this.state.groupId?this.state.rsvpSent?s.a.createElement(E,Object(p.a)({group:this.state.updatedGroup,setRsvpSent:this.setRsvpSent,reset:this.reset},"setRsvpSent",this.setRsvpSent)):s.a.createElement(v,{endpoint:this.state.endpoint,groupId:this.state.groupId,setRsvpSent:this.setRsvpSent,setUpdatedGroup:this.setUpdatedGroup,setGroupId:this.setGroupId}):s.a.createElement(k,{guests:this.state.guests,setGroupId:this.setGroupId,setGuests:this.setGuests}):s.a.createElement(h,{endpoint:this.state.endpoint,setGuests:this.setGuests}))))}}]),t}(n.Component),O=a(38),y=a(39),N=(a(28),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={data:[],sortedBy:"id",sortAscending:!0},a.handleSortClick=a.handleSortClick.bind(Object(m.a)(Object(m.a)(a))),a.sortData=a.sortData.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t="".concat(this.props.endpoint,"/db");fetch(t).then(function(e){return e.json()}).then(function(t){t.sort(function(e,t){return e.id-t.id}),e.setState({data:t})})}},{key:"handleSortClick",value:function(e){var t=this;if(e.preventDefault(),console.log("handleSortClick()"),console.log("e.target.tagName:",e.target.tagName),"TH"===e.target.tagName){var a,n=e.target.dataset.filter,s=this.state.data;this.state.sortedBy===n?(a=!this.state.sortAscending,e.target.classList.toggle("descending")):(a=!0,e.target.classList.add("sorted"),this.state.lastSorted&&this.state.lastSorted.classList.remove("sorted","descending")),s.sort(function(e,s){return a?t.sortData(e,s,n):t.sortData(s,e,n)}),this.setState({data:s,sortedBy:n,sortAscending:a,lastSorted:e.target})}}},{key:"sortData",value:function(e,t,a){return"id"===a||"group_num"===a?e[a]-t[a]:e[a].toUpperCase()<t[a].toUpperCase()?-1:e[a].toUpperCase()>t[a].toUpperCase()?1:0}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-fluid p-0"},s.a.createElement("div",{className:"row justify-content-center px-3 mx-0"},s.a.createElement("div",{className:"col"},s.a.createElement("h1",{className:"text-center"},"GuestList"),s.a.createElement("table",{className:"table table-striped"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{className:"sortable","data-filter":"id",onClick:this.handleSortClick},"Guest ID"),s.a.createElement("th",{"data-filter":"title"},"Title"),s.a.createElement("th",{className:"sortable","data-filter":"first_name",onClick:this.handleSortClick},"First Name"),s.a.createElement("th",{className:"sortable","data-filter":"last_name",onClick:this.handleSortClick},"Last Name"),s.a.createElement("th",{"data-filter":"suffix"},"Suffix"),s.a.createElement("th",{className:"sortable","data-filter":"group_num",onClick:this.handleSortClick},"Group Number"),s.a.createElement("th",{"data-filter":"attending"},"Attending"),s.a.createElement("th",{"data-filter":"guest_attending"},"+1"))),s.a.createElement("tbody",null,this.state.data.map(function(e){var t="guest".concat(e.id);return e.fullName="".concat(e.first_name," ").concat(e.last_name," ").concat(e.suffix?e.suffix:""),s.a.createElement("tr",{key:t},s.a.createElement("th",null,e.id),s.a.createElement("th",null,e.title),s.a.createElement("th",null,e.first_name),s.a.createElement("th",null,e.last_name),s.a.createElement("th",null,e.suffix),s.a.createElement("th",null,e.group_num),s.a.createElement("th",null,null===e.attending?"No Response":e.attending?"Yes":"No"),s.a.createElement("th",null,e.guest_attending?"Yes":"No"))}))))))}}]),t}(n.Component)),S=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",invalidLogin:!1},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.checkLogin=a.checkLogin.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"checkLogin",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.username,s=a.password,r="".concat(this.props.endpoint,"/login/").concat(n,"/").concat(s);fetch(r).then(function(e){return e.json()}).then(function(e){return e.length>0?t.props.setLoggedIn(!0):t.setState({invalidLogin:!0})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-sm-8 col-md-6 col-lg-4 p-4"},s.a.createElement("h1",{className:"text-center"},"Admin Login"),this.state.invalidLogin?s.a.createElement("p",null,"The login you entered is incorrect"):null,s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{name:"username",type:"text",className:"form-control",id:"usernameInput",placeholder:"Username",onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"passwordInput",placeholder:"Password",onChange:this.handleChange})),s.a.createElement("button",{className:"btn btn-primary",onClick:this.checkLogin},"Login")))}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={endpoint:"https://jkbaclig-rsvp.herokuapp.com",loggedIn:!1},a.setLoggedIn=a.setLoggedIn.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"setLoggedIn",value:function(e){this.setState({loggedIn:e})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-fluid p-0"},s.a.createElement("div",{className:"row justify-content-center px-3 mx-0"},this.state.loggedIn?s.a.createElement(N,{endpoint:this.state.endpoint}):s.a.createElement(S,{endpoint:this.state.endpoint,setLoggedIn:this.setLoggedIn})))}}]),t}(n.Component),C=(a(30),a(31),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return s.a.createElement(O.a,null,s.a.createElement("div",null,s.a.createElement(y.a,{path:"/",exact:!0,component:j}),s.a.createElement(y.a,{path:"/admin",component:G})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,2,1]]]);
//# sourceMappingURL=main.2669cc5e.chunk.js.map