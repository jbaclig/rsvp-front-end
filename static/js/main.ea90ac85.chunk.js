(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{229:function(e,t,a){},232:function(e,t,a){"use strict";a.r(t);a(74),a(45),a(76),a(77);var n=a(0),s=a.n(n),r=a(68),c=a.n(r),i=(a(82),a(3)),l=a(4),o=a(6),u=a(5),d=a(7),p=a(69),m=a(1),h=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={firstName:"",lastName:"",waiting:!1},a.lookupGuest=a.lookupGuest.bind(Object(m.a)(Object(m.a)(a))),a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"lookupGuest",value:function(e){var t=this;e.preventDefault();var a=this.props.endpoint,n=this.state,s=n.firstName,r=n.lastName,c="".concat(a,"/find/").concat(s,"/").concat(r);fetch(c).then(function(e){return e.json()}).then(function(e){t.props.setGuests(e),t.setState({waiting:!1})}).catch(function(e){return console.error(e)}),this.setState({waiting:!0})}},{key:"handleChange",value:function(e){e.preventDefault();var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"render",value:function(){return s.a.createElement("div",{className:"guest-lookup"},s.a.createElement("h2",null,"Lookup Your Invitation"),s.a.createElement("p",null,"Enter your first and last name ",s.a.createElement("strong",null,s.a.createElement("em",null,"as it appears on your invitation ")),"to find your RSVP for your and your family or group."),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"firstName"},"First Name: "),s.a.createElement("input",{className:"form-control",type:"text",value:this.state.firstName,id:"firstName",name:"firstName",onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"lastName"},"Last Name: "),s.a.createElement("input",{className:"form-control",type:"text",value:this.state.lastName,id:"lastName",name:"lastName",onChange:this.handleChange})),this.state.waiting?s.a.createElement("button",{disabled:!0,className:"btn btn-primary"},"Please Wait..."):s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.lookupGuest},"Lookup Invitation"))}}]),t}(n.Component),g=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={},a.handleClick=a.handleClick.bind(Object(m.a)(Object(m.a)(a))),a.updateGuestAttending=a.updateGuestAttending.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t,a=e.target,n=a.tagName.toLowerCase(),s=this.props.guest;(t="input"===n?a:a.parentNode.querySelector("input"))&&(this.props.updateSelectedGroupId?this.props.updateSelectedGroupId(s.group_num):this.updateGuestAttending(t))}},{key:"updateGuestAttending",value:function(e){var t=this.props.guest;"guest"===e.name?this.props.updatePlusOneAttending(t.id,e.value):this.props.updateGuestAttending(t.id,e.value)}},{key:"render",value:function(){var e=this.props.guest,t=e.title,a=e.suffix,n=this.props.guest.first_name,r=this.props.guest.last_name,c=this.props.guest.group_num,i=this.props.guest.allow_guest,l="".concat(n,"-").concat(r).concat(a?"-".concat(a):""),o="".concat(t," ").concat(n," ").concat(r," ").concat(a||"");return s.a.createElement("div",{className:"guest-container"},this.props.updateSelectedGroupId?s.a.createElement("span",{className:"guest",onClick:this.handleClick},s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",id:l,name:"guests",value:c}),s.a.createElement("label",{className:"form-check-label",htmlFor:l},o))):s.a.createElement("fieldset",{className:"guest form-group",onClick:this.handleClick},s.a.createElement("legend",null,o),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:l,id:"".concat(l,"-attending"),value:"true"}),s.a.createElement("label",{className:"form-check-label",htmlFor:"".concat(l,"-attending")},"Attending")),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:l,id:"".concat(l,"-not-attending"),value:"false"}),s.a.createElement("label",{className:"form-check-label",htmlFor:"".concat(l,"-not-attending")},"Not Attending")),i?s.a.createElement("div",{className:"plus-one"},s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"guest",id:"".concat(l,"-guest-attending"),value:"true"}),s.a.createElement("label",{className:"form-check-label",htmlFor:"".concat(l,"-guest-attending")},"with a Guest")),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"guest",id:"".concat(l,"-guest-not-attending"),value:"false"}),s.a.createElement("label",{className:"form-check-label",htmlFor:"".concat(l,"-guest-not-attending")},"without a Guest"))):null))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.guest,t=e.title,a=e.suffix,n=this.props.guest.first_name,r=this.props.guest.last_name,c=this.props.guest.allow_guest,i=this.props.guest.attending,l=this.props.guest.guest_attending,o="".concat(t," ").concat(n," ").concat(r," ").concat(a||"");return s.a.createElement("div",{className:"guest-container"},s.a.createElement("span",{className:"guest"},s.a.createElement("h3",null,o),s.a.createElement("h4",null,"Attending: ",i?"Yes":"No"),c?s.a.createElement("p",null,"Guest Attending: ",l?"Yes":"No"):null))}}]),t}(n.Component),f=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.updateSelectedGroupId||this.props.updateGuestAttending?s.a.createElement(g,{guest:this.props.guest,updateSelectedGroupId:this.props.updateSelectedGroupId?this.props.updateSelectedGroupId:null,updateGuestAttending:this.props.updateGuestAttending?this.props.updateGuestAttending:null,updatePlusOneAttending:this.props.updatePlusOneAttending?this.props.updatePlusOneAttending:null}):s.a.createElement(b,{guest:this.props.guest})}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={rsvps:{}},a.updateGuestAttending=a.updateGuestAttending.bind(Object(m.a)(Object(m.a)(a))),a.updatePlusOneAttending=a.updatePlusOneAttending.bind(Object(m.a)(Object(m.a)(a))),a.updateRsvp=a.updateRsvp.bind(Object(m.a)(Object(m.a)(a))),a.back=a.back.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.endpoint,a=this.props.groupId,n="".concat(t,"/group/").concat(a);fetch(n).then(function(e){return e.json()}).then(function(t){return e.setState({group:t})}).catch(function(e){return console.error(e)})}},{key:"updateGuestAttending",value:function(e,t){var a=this.state;a.rsvps[e]||(a.rsvps[e]={}),a.rsvps[e].attending=t,this.setState(a)}},{key:"updatePlusOneAttending",value:function(e,t){var a=this.state;a.rsvps[e]||(a.rsvps[e]={}),a.rsvps[e].guestAttending=t,this.setState(a)}},{key:"updateRsvp",value:function(){var e,t=this,a=this.state.rsvps,n=this.props.endpoint,s=[];for(var r in a)"guestAttending"in(e=a[r])?s.push("".concat(n,"/rsvp/").concat(r,"/attending/").concat(e.attending,"\n                    /guest/").concat(e.guestAttending)):s.push("".concat(n,"/rsvp/").concat(r,"/attending/").concat(e.attending));Promise.all(s.map(function(e){return fetch(e,{method:"PUT"})})).then(function(){return fetch("".concat(t.props.endpoint,"/group/").concat(t.props.groupId)).then(function(e){return e.json()}).then(function(e){t.props.setUpdatedGroup(e),t.props.setRsvpSent(!0)}).catch(function(e){return console.error(e)})})}},{key:"back",value:function(e){e.preventDefault(),this.props.setGroupId(null)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"guest-respond"},s.a.createElement("h2",null,"RSVP for All Guests Below"),s.a.createElement("p",null,"Please let us know who from your group will and won't be attending."),s.a.createElement("div",{className:"group-list"},this.state.group?this.state.group.map(function(t,a){return s.a.createElement(f,{key:a,guest:t,updateGuestAttending:e.updateGuestAttending,updatePlusOneAttending:e.updatePlusOneAttending})}):null),s.a.createElement("button",{className:"btn btn-primary",onClick:this.updateRsvp},"Send"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.back},"Back"))}}]),t}(n.Component),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={},a.updateSelectedGroupId=a.updateSelectedGroupId.bind(Object(m.a)(Object(m.a)(a))),a.selectGuest=a.selectGuest.bind(Object(m.a)(Object(m.a)(a))),a.back=a.back.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"selectGuest",value:function(){this.props.setGroupId(this.state.groupId)}},{key:"updateSelectedGroupId",value:function(e){this.setState({groupId:e})}},{key:"back",value:function(e){e.preventDefault(),this.props.setGuests(null)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"guest-select"},s.a.createElement("h2",null,"Select Your Name"),s.a.createElement("p",null,"Find and select your name from the list of guests below."),this.props.guests.map(function(t,a){return s.a.createElement(f,{key:a,guest:t,updateSelectedGroupId:e.updateSelectedGroupId})}),s.a.createElement("button",{className:"btn btn-primary",onClick:this.selectGuest},"Select Guest"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.back},"Back"))}}]),t}(n.Component),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={},a.back=a.back.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"back",value:function(e){e.preventDefault(),this.props.setRsvpSent(!1)}},{key:"render",value:function(){return s.a.createElement("div",{className:"confirmation"},s.a.createElement("h2",null,"Your RSVP has been sent!"),this.props.group.map(function(e,t){return s.a.createElement(f,{key:t,guest:e})}),s.a.createElement("p",null,"To all of our guests who can't make it to celebrate with us, know that we completely understand.  We understand that everyone's lives are busy, and we look forward to celebrating with you whenever we can!"),s.a.createElement("p",null,"To all of our guests who are able to make it, we can't wait to celebrate with you all!  Be sure to check out our ",s.a.createElement("a",{href:"http://jkbaclig.com"},"Official Wedding Website")," for ",s.a.createElement("a",{href:"http://jkbaclig.com/details.html"},"ceremony and reception details"),", ",s.a.createElement("a",{href:"http://jkbaclig.com/guide.htmlroom"},"our city guide (including hotel info)"),", and more.  (Jon worked really hard on making it, so go check it out!)"),s.a.createElement("p",null,'If you need to make any changes to your RSVP, you can click the "Back" button now or come back here later to resubmit your RSVP.  We kindy ask that all RSVP\'s be finalized by',s.a.createElement("strong",null,s.a.createElement("em",null,"January 1, 2019."))),s.a.createElement("p",null,'If you\'d like to submit another RSVP, click "Start Over" below.'),s.a.createElement("button",{className:"btn btn-primary",onClick:this.props.reset},"Start Over"),s.a.createElement("button",{className:"btn btn-secondary",onClick:this.back},"Back"))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={endpoint:"https://jkbaclig-rsvp.herokuapp.com"},a.setGuests=a.setGuests.bind(Object(m.a)(Object(m.a)(a))),a.setGroupId=a.setGroupId.bind(Object(m.a)(Object(m.a)(a))),a.setRsvpSent=a.setRsvpSent.bind(Object(m.a)(Object(m.a)(a))),a.reset=a.reset.bind(Object(m.a)(Object(m.a)(a))),a.setUpdatedGroup=a.setUpdatedGroup.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"setGuests",value:function(e){this.setState({guests:e})}},{key:"setGroupId",value:function(e){this.setState({groupId:e})}},{key:"setRsvpSent",value:function(e){this.setState({rsvpSent:e})}},{key:"setUpdatedGroup",value:function(e){this.setState({updatedGroup:e})}},{key:"reset",value:function(e){e.preventDefault(),this.setState({guests:null,groupId:null,rsvpSent:null,updatedGroup:null})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-fluid p-0"},s.a.createElement("header",{className:"App-header p-5 text-center"},s.a.createElement("h1",null,"RSVP for Kelly & Jon's Wedding",s.a.createElement("br",null),s.a.createElement("small",null,"February 1st, 2019"),s.a.createElement("br",null),s.a.createElement("small",null,"San Diego, CA"))),s.a.createElement("div",{className:"row justify-content-center px-3 mx-0"},s.a.createElement("div",{className:"col-lg-8 col-md-10 pt-5"},this.state.guests?this.state.groupId?this.state.rsvpSent?s.a.createElement(j,Object(p.a)({group:this.state.updatedGroup,setRsvpSent:this.setRsvpSent,reset:this.reset},"setRsvpSent",this.setRsvpSent)):s.a.createElement(v,{endpoint:this.state.endpoint,groupId:this.state.groupId,setRsvpSent:this.setRsvpSent,setUpdatedGroup:this.setUpdatedGroup,setGroupId:this.setGroupId}):s.a.createElement(O,{guests:this.state.guests,setGroupId:this.setGroupId,setGuests:this.setGuests}):s.a.createElement(h,{endpoint:this.state.endpoint,setGuests:this.setGuests}))))}}]),t}(n.Component),E=a(234),y=a(235),N=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).toggleAscending=a.toggleAscending.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"toggleAscending",value:function(){this.props.updateSortState(this.props.colName,!this.props.ascending)}},{key:"render",value:function(){var e=this.props.ascending?s.a.createElement("i",{className:"fas fa-sort-down"}):s.a.createElement("i",{className:"fas fa-sort-up"});return s.a.createElement("th",{className:"sortable",onClick:this.toggleAscending},this.props.children," ",e)}}]),t}(n.Component),S=(a(84),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={ascending:a.props.ascending,sortedBy:a.props.sortedBy},a.sortNewCol=a.sortNewCol.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"sortNewCol",value:function(){this.props.updateSortState(this.props.colName,!0)}},{key:"render",value:function(){return this.props.colName===this.state.sortedBy?s.a.createElement(N,{ascending:this.state.ascending,sortedBy:this.state.sortedBy,colName:this.props.colName,updateSortState:this.props.updateSortState},this.props.children):s.a.createElement("th",{onClick:this.sortNewCol,className:"sortable"},this.props.children," ",s.a.createElement("i",{className:"fas fa-sort"}))}}],[{key:"getDerivedStateFromProps",value:function(e){return{ascending:e.ascending,sortedBy:e.sortedBy}}}]),t}(n.Component)),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={ascending:a.props.ascending,sortedBy:a.props.sortedBy},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.colName?s.a.createElement(S,{sortedBy:this.state.sortedBy,ascending:this.state.ascending,colName:this.props.colName,updateSortState:this.props.updateSortState,updateSortData:this.props.updateSortData},this.props.children):s.a.createElement("th",null,this.props.children)}}],[{key:"getDerivedStateFromProps",value:function(e){return{ascending:e.ascending,sortedBy:e.sortedBy}}}]),t}(n.Component),G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={sortedBy:a.props.sortedBy,ascending:a.props.ascending},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement(C,{sortedBy:this.state.sortedBy,ascending:this.state.ascending,colName:"id",updateSortState:this.props.updateSortState},"Guest ID"),s.a.createElement(C,null,"Title"),s.a.createElement(C,{sortedBy:this.state.sortedBy,ascending:this.state.ascending,colName:"first_name",updateSortState:this.props.updateSortState},"First Name"),s.a.createElement(C,{sortedBy:this.state.sortedBy,ascending:this.state.ascending,colName:"last_name",updateSortState:this.props.updateSortState},"Last Name"),s.a.createElement(C,null,"Suffix"),s.a.createElement(C,{sortedBy:this.state.sortedBy,ascending:this.state.ascending,colName:"group_num",updateSortState:this.props.updateSortState},"Group Number"),s.a.createElement(C,null,"Attending"),s.a.createElement(C,null,"+1")))}}],[{key:"getDerivedStateFromProps",value:function(e){return{ascending:e.ascending,sortedBy:e.sortedBy}}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={value:""},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=this;this.setState({value:e.target.value},function(){t.props.updateFilterState("nameFilter",t.state.value)})}},{key:"render",value:function(){return s.a.createElement("div",{className:"form-group col-md"},s.a.createElement("label",{htmlFor:"name-filter"},"Find Guest"),s.a.createElement("input",{className:"form-control",type:"text",value:this.state.value,name:"name-filter",onChange:this.handleChange}))}}]),t}(n.Component),F=(a(86),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={filterVal:""},a.handleClearClick=a.handleClearClick.bind(Object(m.a)(Object(m.a)(a))),a.handleAttendingChange=a.handleAttendingChange.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleClearClick",value:function(e){e.preventDefault(),this.props.updateFilterState("attendingFilter","")}},{key:"handleAttendingChange",value:function(e){this.props.updateFilterState("attendingFilter",e.target.value)}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-md attending-filter"},s.a.createElement("fieldset",null,s.a.createElement("legend",null,"Filter By Attending"),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"attendingOptions",id:"attendingYes",value:"Yes",checked:"Yes"===this.state.filterVal,onChange:this.handleAttendingChange}),s.a.createElement("label",{className:"form-check-label",htmlFor:"attendingYes"},"Yes")),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"attendingOptions",id:"attendingNo",value:"No",checked:"No"===this.state.filterVal,onChange:this.handleAttendingChange}),s.a.createElement("label",{className:"form-check-label",htmlFor:"attendingNo"},"No")),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{className:"form-check-input",type:"radio",name:"attendingOptions",id:"attendingNoResponse",value:"No Response",checked:"No Response"===this.state.filterVal,onChange:this.handleAttendingChange}),s.a.createElement("label",{className:"form-check-label",htmlFor:"attendingNoResponse"},"No Response")),s.a.createElement("button",{className:"btn btn-secondary m-2",onClick:this.handleClearClick},"Clear")))}}],[{key:"getDerivedStateFromProps",value:function(e){return{filterVal:e.attendingFilter}}}]),t}(n.Component));var A=function(e){return s.a.createElement("div",{className:"row list-filters"},s.a.createElement(w,{updateFilterState:e.updateFilterState}),s.a.createElement(F,{updateFilterState:e.updateFilterState,attendingFilter:e.attendingFilter}))},I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={data:a.props.data},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log("data:",this.state.data),s.a.createElement("tbody",null,this.state.data)}}],[{key:"getDerivedStateFromProps",value:function(e){return{data:e.data}}}]),t}(n.Component),B=a(70),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={data:a.props.data,yes:0,plusOne:0,no:0,noResponse:0},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.data.yes,t=this.state.data.no,a=this.state.data.plusOne,n=this.state.data.noResponse,r={labels:["Yes","+1","No","No Response"],datasets:[{data:[e,a,t,n],backgroundColor:["#01395E","#F2E5D2","#8B0E3A","#929292"]}]};return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-md"},s.a.createElement("h2",null,s.a.createElement("strong",null,"Attending: "),e+a),s.a.createElement("h2",null,s.a.createElement("strong",null,"Not Attending: "),t),s.a.createElement("h2",null,s.a.createElement("strong",null,"No Response: "),n)),s.a.createElement("div",{className:"col-md-8"},s.a.createElement(B.a,{data:r})))}}],[{key:"getDerivedStateFromProps",value:function(e){return{data:e.data}}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={data:[],activeData:[],filteredData:[],sortedBy:"id",sortAscending:!0,nameFilter:"",attendingFilter:""},a.sortData=a.sortData.bind(Object(m.a)(Object(m.a)(a))),a.updateSortState=a.updateSortState.bind(Object(m.a)(Object(m.a)(a))),a.filterData=a.filterData.bind(Object(m.a)(Object(m.a)(a))),a.updateFilterState=a.updateFilterState.bind(Object(m.a)(Object(m.a)(a))),a.attendingFilter=a.attendingFilter.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this,t="".concat(this.props.endpoint,"/db");fetch(t).then(function(e){return e.json()}).then(function(t){t.sort(function(e,t){return e.id-t.id}),e.setState({data:t,activeData:t})})}},{key:"updateSortState",value:function(e,t){var a=this,n=this.state.activeData;n.sort(function(n,s){return t?a.sortData(n,s,e):a.sortData(s,n,e)}),this.setState({activeData:n,sortedBy:e,sortAscending:t})}},{key:"sortData",value:function(e,t,a){return"id"===a||"group_num"===a?e[a]-t[a]:e[a].toUpperCase()<t[a].toUpperCase()?-1:e[a].toUpperCase()>t[a].toUpperCase()?1:0}},{key:"filterData",value:function(e){var t="".concat(e.first_name," ").concat(e.last_name," ").concat(e.suffix?e.suffix:""),a=null===e.attending?"No Response":e.attending?"Yes":"No";return t.toUpperCase().includes(this.state.nameFilter.toUpperCase())&&this.attendingFilter(a)}},{key:"attendingFilter",value:function(e){return""===this.state.attendingFilter||this.state.attendingFilter===e}},{key:"updateFilterState",value:function(e,t){var a=this,n={};n[e]=t,this.setState(n,function(){return console.log(a.state)})}},{key:"render",value:function(){var e=this,t={yes:0,no:0,plusOne:0,noResponse:0},a=this.state.activeData.filter(function(t){return e.filterData(t)}).map(function(e){var a,n="guest".concat(e.id);return null===e.attending?(a="No Response",t.noResponse++):e.attending?(a="Yes",t.yes++,e.guest_attending&&t.plusOne++):(a="No",t.no++),s.a.createElement("tr",{key:n},s.a.createElement("th",null,e.id),s.a.createElement("th",null,e.title),s.a.createElement("th",null,e.first_name),s.a.createElement("th",null,e.last_name),s.a.createElement("th",null,e.suffix),s.a.createElement("th",null,e.group_num),s.a.createElement("th",null,a),s.a.createElement("th",null,e.guest_attending?"Yes":"No"))});return s.a.createElement("div",{className:"container-fluid p-0"},s.a.createElement("div",{className:"row justify-content-center px-3 mx-0"},s.a.createElement("div",{className:"col"},s.a.createElement("h1",{className:"text-center"},"GuestList"),s.a.createElement(R,{data:t}),s.a.createElement(A,{updateFilterState:this.updateFilterState,updateNameFilter:this.updateNameFilter,attendingFilter:this.state.attendingFilter}),s.a.createElement("table",{className:"table table-striped"},s.a.createElement(G,{sortedBy:this.state.sortedBy,ascending:this.state.sortAscending,updateSortState:this.updateSortState}),s.a.createElement(I,{data:a})))))}}]),t}(n.Component),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:"",invalidLogin:!1},a.handleChange=a.handleChange.bind(Object(m.a)(Object(m.a)(a))),a.checkLogin=a.checkLogin.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleChange",value:function(e){var t=this.state;t[e.target.name]=e.target.value,this.setState(t)}},{key:"checkLogin",value:function(e){var t=this;e.preventDefault();var a=this.state,n=a.username,s=a.password,r="".concat(this.props.endpoint,"/login/").concat(n,"/").concat(s);fetch(r).then(function(e){return e.json()}).then(function(e){return e.length>0?t.props.setLoggedIn(!0):t.setState({invalidLogin:!0})})}},{key:"render",value:function(){return s.a.createElement("div",{className:"col-sm-8 col-md-6 col-lg-4 p-4"},s.a.createElement("h1",{className:"text-center"},"Admin Login"),this.state.invalidLogin?s.a.createElement("p",null,"The login you entered is incorrect"):null,s.a.createElement("form",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{name:"username",type:"text",className:"form-control",id:"usernameInput",placeholder:"Username",onChange:this.handleChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"passwordInput",placeholder:"Password",onChange:this.handleChange})),s.a.createElement("button",{className:"btn btn-primary",onClick:this.checkLogin},"Login")))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={endpoint:"https://jkbaclig-rsvp.herokuapp.com",loggedIn:!1},a.setLoggedIn=a.setLoggedIn.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"setLoggedIn",value:function(e){this.setState({loggedIn:e})}},{key:"render",value:function(){return s.a.createElement("div",{className:"container-fluid p-0"},s.a.createElement("div",{className:"row justify-content-center px-3 mx-0"},this.state.loggedIn?s.a.createElement(D,{endpoint:this.state.endpoint}):s.a.createElement(P,{endpoint:this.state.endpoint,setLoggedIn:this.setLoggedIn})))}}]),t}(n.Component),L=(a(229),function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(E.a,{basename:""},s.a.createElement("div",null,s.a.createElement(y.a,{path:"/",exact:!0,component:k}),s.a.createElement(y.a,{path:"/admin",component:x})))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},73:function(e,t,a){e.exports=a(232)},82:function(e,t,a){},84:function(e,t,a){},86:function(e,t,a){}},[[73,2,1]]]);
//# sourceMappingURL=main.ea90ac85.chunk.js.map